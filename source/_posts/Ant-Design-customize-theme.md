---
title: Ant Design å®šåˆ¶ä¸»é¢˜
date: 2018-07-18 19:24:15
tags: å‡ä½¿è¦æˆ‘è·Ÿä½ å†è€—ä¸ªåå¹´
---

æŒ‰ç…§[Ant Design å®˜ç½‘](https://ant.design/docs/react/customize-theme-cn)æ¨èçš„æ–¹æ¡ˆå®šåˆ¶äº†ç½‘ç«™ä¸»é¢˜ï¼Œä½¿ç”¨äº†ä¸€æ®µæ—¶é—´ä¹‹åå‘ç°ä¸æ»¡è¶³éœ€æ±‚ï¼š
å¼€å‘ä¸­ä¹Ÿéœ€è¦ç”¨åˆ°æ ·å¼å˜é‡ï¼Œæ€»ä¸èƒ½å†æ‹·è´ä¸€ä»½`less`å˜é‡æ–‡ä»¶å§ï¼Ÿ

è™½ç„¶ä¸»é¢˜å¯èƒ½ä¿®æ”¹äº†ä¹‹åå˜åŠ¨å¹¶ä¸å¤§ï¼Œä½†æ€»å½’å­˜åœ¨éšæ‚£ã€‚è€Œä¸”æˆ‘ä¹Ÿä¸èƒ½å¿å—åœ¨`package.json`ä¸­ä¸€ä»½`json`å˜é‡ï¼Œå¼€å‘ç›®å½•ä¸‹ä¸€ä»½`less`å˜é‡ï¼Œè¿˜æ˜¯ä¸€æ¯›ä¸€æ ·ï¼

ç°ç°ï½è¿™æ—¶å€™æˆ‘ä»¬å°±è¦ç”¨åˆ° [less-vars-to-js](https://github.com/michaeltaranto/less-vars-to-js)å•¦ï½

æœ‰åŒæ ·çš„éœ€æ±‚çš„å°±å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹æ“ä½œæ­¥éª¤ï¼š

### 1. å®‰è£…åŒ…
```
npm install --save less-vars-to-js
```

### 2. å¢åŠ é…ç½®æ–‡ä»¶
```javascript
// generateTheme.js
const path = require('path');
const lessToJs = require('less-vars-to-js');
const fs = require('fs');

module.exports = lessToJs(
  fs.readFileSync(path.join(__dirname, '../src/themes/index.less'), 'utf8')
)
```

### 3. ä¿®æ”¹webpacké…ç½®
```javascript
{
    loader: "less-loader", options: {
      sourceMap: true,
      modifyVars: require('./generateTheme')
    }
}
```
è¿™æ—¶å€™`src/themes/index.less`æ–‡ä»¶ä¸­çš„æ ·å¼å˜é‡å°±å¯ä»¥ä½œç”¨åœ¨`modifyVars`ä¸­ï¼Œä¹Ÿèƒ½åœ¨é¡¹ç›®ä¸­å¼•å…¥æ–‡ä»¶æ¥ä½¿ç”¨å˜é‡ã€‚
è¿™æ ·æ‰èƒ½ä¸ºä¸»é¢˜åˆ‡æ¢åšå¥½å‡†å¤‡å•Šï½

æœ€è¿‘ä¸€å¹´å¼€å‘ç»´æŠ¤æ¡†æ¶ï¼Œéƒ½æŠŠAnt Designä½œä¸ºåŸºç¡€ç»„ä»¶ï¼Œç»„ä»¶é½å…¨æ–‡æ¡£æ¸…æ™°ï¼Œå°ä¼™ä¼´éƒ½ç”¨å¾—å¾ˆå¼€å¿ƒï¼Œæˆ‘ä¹Ÿä¸éœ€è¦èŠ±å¤ªå¤šç²¾åŠ›ã€‚å¹³å¸¸ä¹Ÿæ‹¿æ¥å¼€å‘ä¸šåŠ¡ç»„ä»¶ã€‚

å…³äºåŠ¨æ€åˆ‡æ¢ä¸»é¢˜æœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š

1. webpackç”Ÿæˆå¤šä¸ªä¸»é¢˜åŒ…ï¼Œä¸åŒçš„è·¯å¾„è®¿é—®ä¸åŒçš„ä¸»é¢˜åŒ…

2. ä¸»é¢˜æ ·å¼éƒ½åœ¨ä¸€ä¸ªåŒ…é‡Œï¼Œåˆ‡æ¢æ—¶åˆ‡æ¢æ ·å¼è¡¨

ç›®å‰ä½¿ç”¨çš„æ˜¯2æ–¹æ¡ˆï¼ŒAnt Designçš„åŠ¨æ€ä¸»é¢˜åˆ‡æ¢éœ€è¦ç”¨åˆ°[antd-theme-generator](https://github.com/mzohaibqc/antd-theme-generator)ï¼Œç­‰åˆ°æ–¹æ¡ˆæˆç†Ÿä¼šå†å†™ä¸€ç¯‡ï¼Œè¸©äº†å¾ˆå¤šå‘ã€‚

é¡ºä¾¿åæ§½Echarts(é“¾æ¥éƒ½ä¸æƒ³ç»™å®ƒ)çœŸçš„ç›¸å½“çƒ‚ï¼Œæ–‡æ¡£å·®åŠ²ï¼Œå±æ€§æœä¸åˆ°ï¼Œç‰ˆæœ¬æ–‡æ¡£ä¸å¯¹åº”ï¼Œå®˜æ–¹ç»™å‡ºçš„ä¸»é¢˜å®šåˆ¶ç«™ç‚¹ä¸Šéƒ½ä¸ç”Ÿæ•ˆçš„æ ·å¼ï¼Œè¿˜æŒ‡æœ›é¡¹ç›®é‡Œé£å¤©ï¼Ÿï¼ğŸŒ¶ï¸ğŸ”
